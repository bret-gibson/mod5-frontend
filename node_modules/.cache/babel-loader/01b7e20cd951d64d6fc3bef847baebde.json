{"ast":null,"code":"var _jsxFileName = \"/Users/bretgibson/Development/code/mod_5/book-club-frontend/src/components/CreateGroupForm.js\";\nimport React, { useState } from \"react\";\nimport { Card, Modal, Button, Form } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\nimport { setGroup, setGroupUsers } from \"../actions/group\";\n\nfunction CreateGroupForm(props) {\n  const [input, setInput] = useState({\n    name: \"\",\n    description: \"\",\n    image: \"\"\n  });\n  const [groupId, setgroupId] = useState(\"\");\n\n  const handleChange = e => {\n    setInput({ ...input,\n      [e.target.name]: [e.target.value]\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let newGroup = null;\n    fetch(\"http://localhost:3000/groups\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user: {\n          name: input.name[0],\n          description: input.description[0],\n          image_url: input.image[0],\n          public: true,\n          admin_user_id: props.user.id\n        }\n      })\n    }).then(res => res.json()).then(group => {\n      newGroup = group;\n    }).then(() => {\n      fetch(\"http://localhost:3000/group_users\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: {\n            user_id: props.user.id,\n            group_id: newGroup.id\n          }\n        })\n      });\n    }).then(() => {\n      props.setGroup(newGroup);\n      setgroupId(newGroup.id);\n    });\n  }; // const cardStyle = {\n  //   paddingLeft: \"30px\",\n  // };\n\n\n  const formStyle = {\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\",\n    margin: \"auto\"\n  };\n  const headerStyle = {\n    textAlign: \"center\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Content, {\n    style: headerStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Start Your Own Book Club!\")), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Club Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Name\",\n    name: \"name\",\n    type: \"text\",\n    onChange: handleChange,\n    value: input.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Club Description\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Description\",\n    name: \"description\",\n    type: \"text\",\n    onChange: handleChange,\n    value: input.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Club Image\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Image URL\",\n    name: \"image\",\n    type: \"text\",\n    onChange: handleChange,\n    value: input.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    trigger: /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      value: \"Submit Group\",\n      onClick: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"Create Club!\"),\n    closeIcon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Club Created\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Description, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Club \", input.name, \" has been created!\")), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/groups/${groupId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }, \"Go to Club Page\")))))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    // user: state.user.user,\n    user: state.user,\n    group: state.groups.group\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setGroup: group => dispatch(setGroup(group)),\n    setGroupUsers: groupUsers => dispatch(setGroupUsers(groupUsers))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CreateGroupForm));","map":{"version":3,"sources":["/Users/bretgibson/Development/code/mod_5/book-club-frontend/src/components/CreateGroupForm.js"],"names":["React","useState","Card","Modal","Button","Form","connect","withRouter","Link","Redirect","setGroup","setGroupUsers","CreateGroupForm","props","input","setInput","name","description","image","groupId","setgroupId","handleChange","e","target","value","handleSubmit","preventDefault","newGroup","fetch","method","headers","body","JSON","stringify","user","image_url","public","admin_user_id","id","then","res","json","group","user_id","group_id","formStyle","paddingLeft","paddingRight","margin","headerStyle","textAlign","paddingTop","mapStateToProps","state","groups","mapDispatchToProps","dispatch","groupUsers"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Modal, Button, Form } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\nimport { setGroup, setGroupUsers } from \"../actions/group\";\n\nfunction CreateGroupForm(props) {\n  const [input, setInput] = useState({\n    name: \"\",\n    description: \"\",\n    image: \"\",\n  });\n\n  const [groupId, setgroupId] = useState(\"\");\n\n  const handleChange = (e) => {\n    setInput({\n      ...input,\n      [e.target.name]: [e.target.value],\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let newGroup = null;\n    fetch(\"http://localhost:3000/groups\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          name: input.name[0],\n          description: input.description[0],\n          image_url: input.image[0],\n          public: true,\n          admin_user_id: props.user.id,\n        },\n      }),\n    })\n      .then((res) => res.json())\n      .then((group) => {\n        newGroup = group;\n      })\n      .then(() => {\n        fetch(\"http://localhost:3000/group_users\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            user: {\n              user_id: props.user.id,\n              group_id: newGroup.id,\n            },\n          }),\n        });\n      })\n      .then(() => {\n        props.setGroup(newGroup);\n        setgroupId(newGroup.id);\n      });\n  };\n\n  // const cardStyle = {\n  //   paddingLeft: \"30px\",\n  // };\n\n  const formStyle = {\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\",\n    margin: \"auto\",\n  };\n\n  const headerStyle = {\n    textAlign: \"center\",\n  };\n  return (\n    <div style={{ paddingTop: \"50px\" }}>\n      <Card style={formStyle}>\n        <Card.Content style={headerStyle}>\n          <b>Start Your Own Book Club!</b>\n        </Card.Content>\n        <Form>\n          <Form.Field>\n            <label>Club Name</label>\n            <input\n              placeholder=\"Name\"\n              name=\"name\"\n              type=\"text\"\n              onChange={handleChange}\n              value={input.name}\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Club Description</label>\n            <input\n              placeholder=\"Description\"\n              name=\"description\"\n              type=\"text\"\n              onChange={handleChange}\n              value={input.description}\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Club Image</label>\n            <input\n              placeholder=\"Image URL\"\n              name=\"image\"\n              type=\"text\"\n              onChange={handleChange}\n              value={input.image}\n            />\n          </Form.Field>\n          <Modal\n            trigger={\n              <Button type=\"submit\" value=\"Submit Group\" onClick={handleSubmit}>\n                Create Club!\n              </Button>\n            }\n            closeIcon\n          >\n            <Modal.Header>Club Created</Modal.Header>\n            <Modal.Content>\n              <Modal.Description>\n                Club {input.name} has been created!\n              </Modal.Description>\n            </Modal.Content>\n            <Modal.Actions>\n              <Link to={`/groups/${groupId}`}>\n                <Button>Go to Club Page</Button>\n              </Link>\n            </Modal.Actions>\n          </Modal>\n        </Form>\n      </Card>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    // user: state.user.user,\n    user: state.user,\n    group: state.groups.group,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setGroup: (group) => dispatch(setGroup(group)),\n    setGroupUsers: (groupUsers) => dispatch(setGroupUsers(groupUsers)),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CreateGroupForm)\n);\n"]},"metadata":{},"sourceType":"module"}