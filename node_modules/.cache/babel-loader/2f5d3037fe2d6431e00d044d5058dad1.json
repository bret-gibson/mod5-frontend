{"ast":null,"code":"var _jsxFileName = \"/Users/bretgibson/Development/code/mod_5/book-club-frontend/src/components/CreateGroupForm.js\";\nimport React, { useState } from \"react\";\nimport { Card, Modal, Button, Form } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\nimport { setGroup, setGroupUsers } from \"../actions/group\";\n\nfunction CreateGroupForm(props) {\n  const [input, setInput] = useState({\n    name: \"\",\n    description: \"\"\n  });\n  const [groupId, setgroupId] = useState(\"\");\n\n  const handleChange = e => {\n    setInput({ ...input,\n      [e.target.name]: [e.target.value]\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let newGroup = null;\n    fetch(\"http://localhost:3000/groups\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user: {\n          name: input.name[0],\n          description: input.description[0],\n          public: true,\n          admin_user_id: props.user.id\n        }\n      })\n    }).then(res => res.json()).then(group => {\n      newGroup = group;\n    }).then(() => {\n      fetch(\"http://localhost:3000/group_users\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: {\n            user_id: props.user.id,\n            group_id: newGroup.id\n          }\n        })\n      });\n    }).then(() => {\n      props.setGroup(newGroup);\n      setgroupId(newGroup.id);\n    });\n  };\n\n  const cardStyle = {\n    paddingLeft: \"30px\"\n  };\n  const formStyle = {\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\"\n  };\n  const headerStyle = {\n    textAlign: \"center\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: cardStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Content, {\n    style: headerStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Start Your Own Book Club!\")), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Club Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Name\",\n    name: \"name\",\n    type: \"text\",\n    onChange: handleChange,\n    value: input.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Field, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Club Description\"), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Description\",\n    name: \"description\",\n    type: \"text\",\n    onChange: handleChange,\n    value: input.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    trigger: /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      value: \"Submit Group\",\n      onClick: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, \"Create Club!\"),\n    closeIcon: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Description, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, \"Club \", input.name, \" has been created!\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/groups/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, \"Go to Group\"))))))));\n}\n\nconst mapStateToProps = state => {\n  return {\n    // user: state.user.user,\n    user: state.user,\n    group: state.groups.group\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setGroup: group => dispatch(setGroup(group)),\n    setGroupUsers: groupUsers => dispatch(setGroupUsers(groupUsers))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(CreateGroupForm));","map":{"version":3,"sources":["/Users/bretgibson/Development/code/mod_5/book-club-frontend/src/components/CreateGroupForm.js"],"names":["React","useState","Card","Modal","Button","Form","connect","withRouter","Link","Redirect","setGroup","setGroupUsers","CreateGroupForm","props","input","setInput","name","description","groupId","setgroupId","handleChange","e","target","value","handleSubmit","preventDefault","newGroup","fetch","method","headers","body","JSON","stringify","user","public","admin_user_id","id","then","res","json","group","user_id","group_id","cardStyle","paddingLeft","formStyle","paddingRight","headerStyle","textAlign","mapStateToProps","state","groups","mapDispatchToProps","dispatch","groupUsers"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,IAA9B,QAA0C,mBAA1C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,EAAqBC,IAArB,EAA2BC,QAA3B,QAA2C,kBAA3C;AACA,SAASC,QAAT,EAAmBC,aAAnB,QAAwC,kBAAxC;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC;AACjCe,IAAAA,IAAI,EAAE,EAD2B;AAEjCC,IAAAA,WAAW,EAAE;AAFoB,GAAD,CAAlC;AAKA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAC,EAAD,CAAtC;;AAEA,QAAMmB,YAAY,GAAIC,CAAD,IAAO;AAC1BN,IAAAA,QAAQ,CAAC,EACP,GAAGD,KADI;AAEP,OAACO,CAAC,CAACC,MAAF,CAASN,IAAV,GAAiB,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV;AAFV,KAAD,CAAR;AAID,GALD;;AAOA,QAAMC,YAAY,GAAIH,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACI,cAAF;AACA,QAAIC,QAAQ,GAAG,IAAf;AACAC,IAAAA,KAAK,CAAC,8BAAD,EAAiC;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF2B;AAKpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,IAAI,EAAE;AACJjB,UAAAA,IAAI,EAAEF,KAAK,CAACE,IAAN,CAAW,CAAX,CADF;AAEJC,UAAAA,WAAW,EAAEH,KAAK,CAACG,WAAN,CAAkB,CAAlB,CAFT;AAGJiB,UAAAA,MAAM,EAAE,IAHJ;AAIJC,UAAAA,aAAa,EAAEtB,KAAK,CAACoB,IAAN,CAAWG;AAJtB;AADa,OAAf;AAL8B,KAAjC,CAAL,CAcGC,IAdH,CAcSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAdjB,EAeGF,IAfH,CAeSG,KAAD,IAAW;AACfd,MAAAA,QAAQ,GAAGc,KAAX;AACD,KAjBH,EAkBGH,IAlBH,CAkBQ,MAAM;AACVV,MAAAA,KAAK,CAAC,mCAAD,EAAsC;AACzCC,QAAAA,MAAM,EAAE,MADiC;AAEzCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFgC;AAKzCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,UAAAA,IAAI,EAAE;AACJQ,YAAAA,OAAO,EAAE5B,KAAK,CAACoB,IAAN,CAAWG,EADhB;AAEJM,YAAAA,QAAQ,EAAEhB,QAAQ,CAACU;AAFf;AADa,SAAf;AALmC,OAAtC,CAAL;AAYD,KA/BH,EAgCGC,IAhCH,CAgCQ,MAAM;AACVxB,MAAAA,KAAK,CAACH,QAAN,CAAegB,QAAf;AACAP,MAAAA,UAAU,CAACO,QAAQ,CAACU,EAAV,CAAV;AACD,KAnCH;AAoCD,GAvCD;;AAyCA,QAAMO,SAAS,GAAG;AAChBC,IAAAA,WAAW,EAAE;AADG,GAAlB;AAIA,QAAMC,SAAS,GAAG;AAChBD,IAAAA,WAAW,EAAE,MADG;AAEhBE,IAAAA,YAAY,EAAE;AAFE,GAAlB;AAKA,QAAMC,WAAW,GAAG;AAClBC,IAAAA,SAAS,EAAE;AADO,GAApB;AAGA,sBACE;AAAK,IAAA,KAAK,EAAEL,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEE,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,OAAN;AAAc,IAAA,KAAK,EAAEE,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADF,CADF,eAIE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AACE,IAAA,WAAW,EAAC,MADd;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,QAAQ,EAAE3B,YAJZ;AAKE,IAAA,KAAK,EAAEN,KAAK,CAACE,IALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eAYE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AACE,IAAA,WAAW,EAAC,aADd;AAEE,IAAA,IAAI,EAAC,aAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,QAAQ,EAAEI,YAJZ;AAKE,IAAA,KAAK,EAAEN,KAAK,CAACG,WALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAZF,eAsBE,oBAAC,KAAD;AACE,IAAA,OAAO,eACL,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,cAA5B;AAA2C,MAAA,OAAO,EAAEO,YAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAME,IAAA,SAAS,MANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,KAAD,CAAO,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACQV,KAAK,CAACE,IADd,qCAEE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,CAFF,CADF,CARF,CAtBF,CAJF,CADF,CADF;AAkDD;;AAED,MAAMiC,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACL;AACAjB,IAAAA,IAAI,EAAEiB,KAAK,CAACjB,IAFP;AAGLO,IAAAA,KAAK,EAAEU,KAAK,CAACC,MAAN,CAAaX;AAHf,GAAP;AAKD,CAND;;AAQA,MAAMY,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACL3C,IAAAA,QAAQ,EAAG8B,KAAD,IAAWa,QAAQ,CAAC3C,QAAQ,CAAC8B,KAAD,CAAT,CADxB;AAEL7B,IAAAA,aAAa,EAAG2C,UAAD,IAAgBD,QAAQ,CAAC1C,aAAa,CAAC2C,UAAD,CAAd;AAFlC,GAAP;AAID,CALD;;AAOA,eAAe/C,UAAU,CACvBD,OAAO,CAAC2C,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CxC,eAA7C,CADuB,CAAzB","sourcesContent":["import React, { useState } from \"react\";\nimport { Card, Modal, Button, Form } from \"semantic-ui-react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link, Redirect } from \"react-router-dom\";\nimport { setGroup, setGroupUsers } from \"../actions/group\";\n\nfunction CreateGroupForm(props) {\n  const [input, setInput] = useState({\n    name: \"\",\n    description: \"\",\n  });\n\n  const [groupId, setgroupId] = useState(\"\")\n\n  const handleChange = (e) => {\n    setInput({\n      ...input,\n      [e.target.name]: [e.target.value],\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let newGroup = null;\n    fetch(\"http://localhost:3000/groups\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          name: input.name[0],\n          description: input.description[0],\n          public: true,\n          admin_user_id: props.user.id,\n        },\n      }),\n    })\n      .then((res) => res.json())\n      .then((group) => {\n        newGroup = group;\n      })\n      .then(() => {\n        fetch(\"http://localhost:3000/group_users\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            user: {\n              user_id: props.user.id,\n              group_id: newGroup.id,\n            },\n          }),\n        });\n      })\n      .then(() => {\n        props.setGroup(newGroup);\n        setgroupId(newGroup.id)\n      });\n  };\n\n  const cardStyle = {\n    paddingLeft: \"30px\",\n  };\n\n  const formStyle = {\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\",\n  };\n\n  const headerStyle = {\n    textAlign: \"center\",\n  };\n  return (\n    <div style={cardStyle}>\n      <Card style={formStyle}>\n        <Card.Content style={headerStyle}>\n          <b>Start Your Own Book Club!</b>\n        </Card.Content>\n        <Form>\n          <Form.Field>\n            <label>Club Name</label>\n            <input\n              placeholder=\"Name\"\n              name=\"name\"\n              type=\"text\"\n              onChange={handleChange}\n              value={input.name}\n            />\n          </Form.Field>\n\n          <Form.Field>\n            <label>Club Description</label>\n            <input\n              placeholder=\"Description\"\n              name=\"description\"\n              type=\"text\"\n              onChange={handleChange}\n              value={input.description}\n            />\n          </Form.Field>\n          <Modal\n            trigger={\n              <Button type=\"submit\" value=\"Submit Group\" onClick={handleSubmit}>\n                Create Club!\n              </Button>\n            }\n            closeIcon\n          >\n            <Modal.Content>\n              <Modal.Description>\n                Club {input.name} has been created!\n                <Link to=\"/groups/\">\n                <Button>Go to Group</Button>\n\n                </Link>\n              </Modal.Description>\n            </Modal.Content>\n          </Modal>\n        </Form>\n      </Card>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    // user: state.user.user,\n    user: state.user,\n    group: state.groups.group,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    setGroup: (group) => dispatch(setGroup(group)),\n    setGroupUsers: (groupUsers) => dispatch(setGroupUsers(groupUsers)),\n  };\n};\n\nexport default withRouter(\n  connect(mapStateToProps, mapDispatchToProps)(CreateGroupForm)\n);\n"]},"metadata":{},"sourceType":"module"}